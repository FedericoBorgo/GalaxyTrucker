<?xml version="1.0" encoding="UTF-8"?>

<?import javafx.scene.layout.GridPane?>
<?import javafx.scene.layout.VBox?>
<?import javafx.scene.layout.HBox?>
<?import javafx.scene.control.Button?>
<?import javafx.scene.image.ImageView?>
<?import javafx.scene.layout.Pane?>
<?import javafx.scene.control.Label?>

<?import javafx.scene.control.ListView?>
<Pane xmlns="http://javafx.com/javafx/17" xmlns:fx="http://javafx.com/fxml/1" fx:controller="it.polimi.softeng.is25am10.gui.ShipBuildingController" prefWidth="800" prefHeight="600">
    <!-- Main layout: HBox to split shipboard and tile selection -->
    <HBox spacing="20" layoutX="20" layoutY="20">
        <!-- Shipboard Grid -->
        <VBox spacing="10">
            <Label text="Plancia dell'astronave" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            <GridPane fx:id="shipBoard" hgap="5" vgap="5">
                <!-- Row 0: 1 tile -->
                <Pane fx:id="tile_0_2" GridPane.rowIndex="0" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_0_2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <!-- Row 1: 3 tiles -->
                <Pane fx:id="tile_1_1" GridPane.rowIndex="1" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_1_1" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_1_2" GridPane.rowIndex="1" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_1_2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_1_3" GridPane.rowIndex="1" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_1_3" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <!-- Row 2: 5 tiles -->
                <Pane fx:id="tile_2_0" GridPane.rowIndex="2" GridPane.columnIndex="0" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_2_0" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_2_1" GridPane.rowIndex="2" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_2_1" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_2_2" GridPane.rowIndex="2" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_2_2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_2_3" GridPane.rowIndex="2" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_2_3" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_2_4" GridPane.rowIndex="2" GridPane.columnIndex="4" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_2_4" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <!-- Row 3: 5 tiles -->
                <Pane fx:id="tile_3_0" GridPane.rowIndex="3" GridPane.columnIndex="0" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_3_0" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_3_1" GridPane.rowIndex="3" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_3_1" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_3_2" GridPane.rowIndex="3" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_3_2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_3_3" GridPane.rowIndex="3" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_3_3" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_3_4" GridPane.rowIndex="3" GridPane.columnIndex="4" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_3_4" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <!-- Row 4: 3 tiles -->
                <Pane fx:id="tile_4_0" GridPane.rowIndex="4" GridPane.columnIndex="0" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_4_0" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_4_2" GridPane.rowIndex="4" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_4_2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="tile_4_4" GridPane.rowIndex="4" GridPane.columnIndex="4" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgray; -fx-border-color: black;">
                    <ImageView fx:id="image_4_4" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
            </GridPane>
            <!-- Add Player List -->
            <Label text="Giocatori" style="-fx-font-size: 14; -fx-font-weight: bold;"/>
            <ListView fx:id="playerList" prefWidth="260" prefHeight="100"/>
        </VBox>

        <!-- Tile Selection Area -->
        <VBox spacing="10">
            <Label text="Selezione Tessere" style="-fx-font-size: 16; -fx-font-weight: bold;"/>
            <!-- Draw Button -->
            <Button fx:id="drawButton" text="Pesca" onAction="#drawTile"/>
            <!-- Booked Tiles -->
            <Label text="Tessere prenotate"/>
            <HBox spacing="5">
                <Pane fx:id="bookedTile1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightblue; -fx-border-color: black;">
                    <ImageView fx:id="bookedImage1" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="bookedTile2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightblue; -fx-border-color: black;">
                    <ImageView fx:id="bookedImage2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
            </HBox>
            <!-- Drawn Tile (non capisco perchè è così larga, devo sistemarla) -->
            <Label text="Tessera pescata"/>
            <Pane fx:id="drawnTile" prefWidth="50" prefHeight="50" style="-fx-background-color: lightgreen; -fx-border-color: black;">
                <ImageView fx:id="drawnImage" fitWidth="50" fitHeight="50" preserveRatio="true"/>
            </Pane>

            <!-- Rotate and Finish Buttons -->
            <HBox spacing="10">
                <Button fx:id="rotateButton" text="Ruota tessera" onAction="#rotateTile"/>
                <Button fx:id="finishButton" text="Finito" onAction="#finishBuilding"/>
            </HBox>
        </VBox>
        <VBox spacing="10">
            <!-- Tile Pile -->
            <Label text="Tessere uscite"/>
            <GridPane fx:id="tilePile" hgap="5" vgap="5">

                <Pane fx:id="pileTile2" GridPane.rowIndex="1"  GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage2" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile3" GridPane.rowIndex="1" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage3" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile4" GridPane.rowIndex="1" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage4" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile5" GridPane.rowIndex="2" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage5" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile6" GridPane.rowIndex="2" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage6" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile7" GridPane.rowIndex="2" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage7" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile8" GridPane.rowIndex="3" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage8" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile9" GridPane.rowIndex="3" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage9" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile10" GridPane.rowIndex="3" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage10" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile11" GridPane.rowIndex="4" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage11" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile12" GridPane.rowIndex="4" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage12" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile13" GridPane.rowIndex="4" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage13" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile14" GridPane.rowIndex="5" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage14" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile15" GridPane.rowIndex="5" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage15" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile16" GridPane.rowIndex="5" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage16" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile17" GridPane.rowIndex="6" GridPane.columnIndex="1" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage17" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile18" GridPane.rowIndex="6" GridPane.columnIndex="2" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage18" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>
                <Pane fx:id="pileTile19" GridPane.rowIndex="6" GridPane.columnIndex="3" prefWidth="50" prefHeight="50" style="-fx-background-color: lightyellow; -fx-border-color: black;">
                    <ImageView fx:id="pileImage19" fitWidth="50" fitHeight="50" preserveRatio="true"/>
                </Pane>

            </GridPane>
        </VBox>
    </HBox>
</Pane>